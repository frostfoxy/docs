# rToken

This document is intended for users and developers who want to learn more about rToken or integrate rToken.

## What is rToken

rTokens are a type of token that represents staked assets. They are issued by the StaFi Protocol and can be used for trading, borrowing, or lending on various platforms.

When a user stakes their native token using the Staking Contract, they will receive a certain amount of rTokens based on the amount of native tokens staked at the current exchange rate for the rToken. The exchange rate for rtokens are determined by supply and demand, and it can fluctuate over time.

As staking rewards for the native token accumulate, the exchange rate for the rToken increases, which also increases the amount of native tokens that can be redeemed.

To date, StaFi has released 10 liquid staking tokens, including **rETH, rMATIC, rBNB, rATOM, rSOL, rDOT** and more.

## **Why rTokens?**

The creation of rTokens was driven by the need to solve the liquidity challenges associated with staking assets. In many Proof-of-Stake projects, staked assets are subject to lock-up periods or require a lengthy unbonding period, limiting users' ability to trade their assets. However, StaFiâ€™s rTokens provide a liquid staking solution that addresses these issues:

- **Liquidity**: Users no longer have to worry about the liquidity of their staked assets. Although the liquidity of rTokens may still be a concern, rTokens can freely circulate and be traded, allowing holders to hedge their exposure without worrying about unlocking periods.
- **No Redemption Periods**: With rTokens, there's no need to wait for lengthy redemption periods. Users can immediately exchange their rTokens for native tokens at current market rates.
- **Optimized Staking Yields**: The StaFi Staking Contract Pool automatically selects Original Validators with the highest return rates for staking, optimizing users' staking yields.
- **Simplified Staking**: The complex nature of the current NPOS staking mechanism can be confusing for ordinary stakers. However, the introduction of rFIS allows FIS stakers to easily participate in FIS staking with just one click.

For Proof-of-Stake (PoS) projects, StaFi's rToken services offer several key benefits:

- **Increased Security**: The use of rTokens encourages users to stake their assets, resulting in a higher staking ratio for PoS projects and increased security for the original chains.
- **Distributed Security**: The assets locked in the StaFi Staking Contract are distributed to multiple Original Validators, ensuring that the security of the original chain is not compromised regardless of the number of assets locked.
- **Cooperative Development**: StaFi does not engage in the validation of the original chain, meaning that it does not compete with existing validators. This allows for the development of open-source DeFi solutions in cooperation with existing ecosystems and validators, rather than cannibalizing their traction and business.

## Uses of rTokens

rTokens can be used for a variety of purposes, including:
- **Earning Staking Rewards**: rTokens allow users to earn staking rewards without locking up their tokens. This means users can participate in DeFi protocols, such as lending and borrowing, while still earning staking rewards.
- **Providing Liquidity**: rTokens can be used to provide liquidity to DeFi protocols, enhancing the liquidity of these protocols and making them more appealing to users.
- **Collateral**: rTokens can be used as collateral in DeFi protocols, enabling users to borrow funds against their rTokens. These borrowed funds can be used to invest in other assets or to meet financial obligations.
- **Staking Derivatives**: rTokens can be used to create staking derivatives, allowing users to speculate on the price of staking rewards. This can be a way to generate profits from the staking market.

Overall, rTokens offer a number of benefits for users. They allow users to earn staking rewards on their tokens without having to lock them up, which provides them with more flexibility. They can also be used to provide liquidity to DeFi protocols and to create staking derivatives. As a result, rTokens are a valuable tool for users who want to participate in the staking market.

## **rToken Characteristics**

rTokens possess several key characteristics that make them unique and beneficial for users:

- **Fungible**: rTokens are fungible, meaning each unit of an rToken is interchangeable with another unit. This characteristic is crucial for ensuring liquidity and enabling rTokens to be traded on various exchanges.
- **Transferable**: rTokens can be freely transferred between accounts, just like any other digital asset. This allows users to easily trade or sell their rTokens whenever they want, providing them with greater flexibility and control over their assets.
- **Staking Rewards**: rTokens represent staked assets and continue to earn staking rewards over time. This means that the longer you hold your rTokens, the more rewards you can potentially earn.
- **Redeemable**: rTokens can be redeemed for the original staked assets at any time. This allows users to unstake their assets without having to wait for lengthy unbonding periods.
- **Interoperable**: rTokens are designed to be interoperable across multiple blockchain networks. This means that they can be used in a variety of DeFi applications across different ecosystems.
- **Secure**: The security of rTokens is ensured by the StaFi Protocol's robust security measures, including regular audits and a secure staking contract.

## Acquiring rTokens

There are two primary ways to get rTokens.

### Staking via StaFi Staking Contract or rToken App

Users can stake their tokens directly through the StaFi staking contract or use the [StaFi rToken App](https://app.stafi.io).

Upon staking your native tokens, rTokens will be minted and sent to your designated wallet address based on the amount of native tokens staked ( $Q_s$ ) and the current exchange rate for rTokens ( $C_r$ ).

The formula to calculate the quantity of rTokens ( $Q_r$ ) you receive is:

$Q_r=Q_s/C_r$

For example, if you stake 1.05 ETH and the current exchange rate for rETH ( $C_r$ ) is 1.05, you will receive 1 rETH.

import { Callout } from 'nextra-theme-docs'

<Callout type="info">
The exchange rate for rTokens ( $C_r$ ) is always greater than 1, as it represents a staked amount of token that is accruing rewards over time.
</Callout>

### Swap rTokens on Uniswap or other DEXs

rTokens can be swaped for native tokens at market exchange rates on decentralized exchanges that interate rTokens.

<Callout type="info">
If arbitrage opportunities and risk-free market-making decrease, it could result in users receiving an exchange price for rTokens on DEXs that is lower than their inherent value. This is due to the fact that the liquidity and price of rTokens on DEXs are determined by market supply and demand.
</Callout>

## rToken exchange rate
The rToken exchange rate ( $Cr$ ) is determined by a number of factors, including:
- The total amount of native token staked in the Staking Contract: $Q_{tsk}$
- The total amount of redeemed native token: $Q_{red}$
- The amount of staking rewards: $Q_{rew}$
- The amount of slash: $Q_{slh}$
- The amount of penalty: $Q_{pey}$
- The commission ratio: $R_{com}$
- The total amount of rToken minted: $M$
- The total amount of rToken burned: $N$

In general, the exchange rate is positively correlated with the staking income, which is influenced by these variables. The exact formula for calculating the rToken exchange rate is as follows:

$C_{i}={[\left(Q_{stk}-Q_{red}\right)+\left(Q_{rew}-Q_{slh}-Q_{pey}\right) *\left(1-R_{com}\right)]}/{(M-N)}$

The rToken exchange rate will be determined and announced by the system based on the status of Staking Reward Claims and the occurrence of Slash events on the original blockchain. This ensures that the rToken exchange rate accurately reflects the current state and activity of the underlying network.

| rToken | Exchange Rate Update Frequency |
| --- | --- |
| rETH | 8 Hours |
| rMATIC | 24 Hours |
| rATOM | 24 Hours |
| rBNB | 24 Hours |
| rSOL | 66 Hours |
| rFIS | 6 Hours |
| rDOT | 24 Hours |
| rKSM | 6 Hours |

## Risks

- **Slashing risk**: StaFi validators are required to stake a portion of their own funds as collateral, which helps to minimize the risk of loss to delegators in the event of a validator slashing event.
- **Price risk**: StaFi's withdrawal restrictions make arbitrage and risk-free market-making impossible, which could lead to users receiving an exchange price for rTokens that is lower than their inherent value. The StaFi core team and community are commited to reducing the risks associated with using StaFi and, wherever possible, aim to eliminate these risks entirely.
- **Contract Security**: StaFi's staking contract code is open-sourced and audited, which helps to reduce the risk of contract failure.
